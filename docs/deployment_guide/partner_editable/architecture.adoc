Before you deploy the Quick Start template, decide whether to use two Availability Zones or three, and whether to use a https://docs.microsoft.com/en-us/windows-server/failover-clustering/manage-cluster-quorum[file share witness^] or a full node. By default, this deployment creates one Exchange node in each Availability Zone. The file share witness launches in the same Availability Zone as the first Exchange node.

*Note:* Where possible, deploy this Quick Start using three Availability Zones. This enables automatic failover of database availability groups (DAGs) without the need for manual intervention.

You can deploy a full Exchange node instead of a file share witness. In addition, you can specify whether to deploy the full node or the file share witness in a third Availability Zone.

For more information about quorum models, refer to https://docs.microsoft.com/en-us/Exchange/high-availability/database-availability-groups/database-availability-groups?view=exchserver-2019#database-availability-group-quorum-models[Database availability group quorum models^].

In addition, you can deploy an internal Application Load Balancer to provide high availability that distributes traffic to the Exchange nodes. For this configuration, you must import a Secure Sockets Layer (SSL) certificate into AWS Certificate Manager (ACM) before you launch the template.

Deploying this Quick Start for a new virtual private cloud (VPC) with default parameters builds the following {partner-product-short-name} environment in the AWS Cloud:

:xrefstyle: short
[#architecture1]
.Quick Start architecture for {partner-product-short-name} on AWS
image::../docs/deployment_guide/images/architecture_diagram.png[Architecture,width=100%,height=100%]

As shown in <<architecture1>>, this Quick Start sets up the following:

* A highly available architecture that spans two or three Availability Zones.*
* A VPC configured with public and private subnets, according to AWS best practices, to provide you with your own virtual network on AWS.*
* In the public subnets:
** Elastic IP addresses associated with the NAT gateway and RD Gateway instances.*
** Microsoft Windows Server–based RD Gateway instances, in an Auto Scaling group, and network address translation (NAT) gateways for outbound internet access.*
** (Optional) Exchange Edge Transport servers for routing email in and out of your environment.
* In the private subnets:
** Microsoft Active Directory domain controllers.*
** Windows Server–based Amazon EC2 instances as Exchange nodes.
** Exchange Server Enterprise on each node. This architecture provides redundancy and a witness server to ensure that a quorum is established.
* An internet gateway that connects the VPC to the internet.
* A Network Load Balancer that distributes incoming traffic across the Exchange Amazon EC2 instances. 
* Amazon Simple Storage Service (Amazon S3) to store and retrieve data.
* AWS Secrets Manager to encrypt, store, and retrieve credentials for your databases and other services.
* A Parameter Store resource to provide hierarchical storage for configuration data management and secrets management.
* AWS Certificate Manager to provision, manage, and deploy SSL/TLS certificates on AWS managed resources.

[.small]#*The template that deploys the Quick Start into an existing VPC skips the components marked by asterisks and prompts you for your existing VPC configuration.#
